---

# 📖 高精度多文档智能分析与问答系统使用指南

欢迎使用 **Document AI System**。这是一个基于 ERNIE 4.5 和 Milvus 构建的高性能 RAG（检索增强生成）系统。

## 🚀 快速上手 (Quick Start)
请按照以下流程开启您的智能文档之旅：
- **⚙️ 系统配置**：配置大模型、OCR 服务及向量数据库连接。
- **📂 知识库管理**：创建知识库并上传/解析 PDF 文档。
- **💬 智能问答**：对文档进行深度提问、摘要生成及图表查阅。

---

### 一. ⚙️ 系统配置
请进入 **[⚙️ 系统配置]** 标签页，完成以下必要信息的填写。

#### 1.1 🧠 大语言模型 (LLM) 配置
默认模型为 `ernie-4.5-turbo-128k-preview`，如需更换请查阅 [模型列表](https://cloud.baidu.com/doc/qianfan-docs/s/7m95lyy43)。
> **注意**：若使用百度千帆 API，需先在 [百度智能云模型服务界面](https://console.bce.baidu.com/qianfan/modelcenter/model/buildIn/list) 开通对应服务。

**1.1.1 Base URL (任选其一复制):**
* **百度千帆 API**:
    `https://qianfan.baidubce.com/v2`
* **AI Studio**:
    `https://aistudio.baidu.com/llm/lmapi/v3`

**1.1.2 API Key / Token:**
| 平台类型 | 获取方式 |
| :--- | :--- |
| **百度千帆 API** | [点击获取 Key](https://console.bce.baidu.com/qianfan/ais/console/apiKey) |
| **AI Studio** | [打开网页登录，点击“令牌”，获取 Token](https://aistudio.baidu.com) |

#### 1.2 🔢 向量模型 (Embedding) 配置
默认模型为 `embedding-v1` ([模型列表](https://cloud.baidu.com/doc/qianfan-docs/s/7m95lyy43))。
* **配置方式**：URL 和 Token 的获取方式与上述 **LLM 配置** 完全一致。

#### 1.3 🛠️ 基础设施配置 (OCR & Milvus)

**1.3.1 📄 OCR 文档解析服务**


我们需要 PP-StructureV3 模型来精准提取文档结构。请访问 [星河社区 PaddleOCR 应用界面](https://aistudio.baidu.com/paddleocr/task) 并按以下步骤获取：
- 点击页面左上角的 **“API”** 按钮。
- 在弹窗中选择 **“文档解析（PP-StructureV3）”**。
- 复制显示的 `API_URL` 和 `TOKEN`，填入本系统的对应输入框中。

**1.3.2 🛢️ Milvus 向量数据库**


本系统支持本地与云端两种模式：


**📂 本地模式**：直接使用本地数据库，**无需**配置 URL 和 Token。

**☁️ 云端模式**：
- 注册/登录 [Zilliz 官网](https://cloud.zilliz.com/) (支持 Github/Google 快捷登录)。
- 点击 **“Create Cluster”** 创建实例。
- 创建完成后，复制 **Public Endpoint** (作为 URL) 和 **Token** 填入系统配置。
#### 1.4 API 速率限制 （可选）
您可以调整API的速率，可以直接使用默认值。

#### 1.5 💾 保存并连接
当完成上述配置后，点击“💾 保存并连接”按钮，等待一会儿，便能连接成功。


---

### 二 上传数据与管理 (📂 知识库管理)
配置完成后，请切换到 [📂 知识库管理] 标签页。在这里，您可以构建您的专属知识库。

#### 2.1 ✨ 创建知识库
系统默认包含一个“默认知识库”。如果您希望对文档分类管理（例如区分“财务报表”和“技术文档”）：
- 在右侧“✨ 快速创建”区域的输入框中填写新名称。
- 点击 “创建” 按钮。
- 创建成功后，您可以在左侧的“目标知识库”下拉单中选择它。

#### 2.2 📤 文档解析与入库
- 选择库：在“目标知识库”下拉框中，选中您要上传文件的知识库。
- 选择文件：点击文件上传区域，选择一份或多份 PDF 文档。
- 开始处理：点击 “🚀 上传并解析” 按钮。

> 提示：系统会自动进行高精度的 OCR 识别、版面分析和向量化处理。大文件可能需要几分钟，请耐心等待下方日志窗口显示“✅ 成功入库”。

#### 2.3 ⚠️ 库与文件管理
如果您上传了错误的文件，可以使用右侧红色的“危险操作区”：
- 删除库：彻底删除选中的知识库及其所有数据。
- 删除文件：从当前库中移除指定的单个文档。
#### 2.4 🧪 效果诊断(可选)


您可以在此处点击“🔍 运行召回率测试”，系统将会随机抽选样本进行召回率测试。

---

### 三 智能问答 (💬 智能问答)
一切准备就绪！切换到 [💬 智能问答] 标签页开始体验。

#### 第一步：选择数据源
在界面左侧的侧边栏中进行设置：
**Knowledge Base**：选择您刚才上传了数据的知识库。

**Document Filter**：
  - 选择 “全部文档 (Global QA)”：系统将综合该库中所有文件的内容回答您的问题。
  - 选择 “具体文件名”：系统将开启单文档深度分析模式，仅根据该文件回答，并提供文件摘要和图表。

#### 第二步：提问与交互
1. 发送问题：在右侧对话框底部的输入框中输入您的问题，按回车或点击发送按钮。
2. 查看参考来源：AI 回答完毕后，会在回复末尾列出参考的文档名称和页码，确保回答有据可依。

#### 第三步：查看分析详情 (📊 分析详情)
点击输入框下方的 “📊 分析详情” 折叠面板，您可以获得更多信息：
- 💡 置信度：对当前回答准确性的评分。
- 📄 智能摘要：如果您在左侧选择了单份文档，这里会自动显示该文档的核心摘要。
- 🖼️ 提取图表：系统会自动展示从文档中提取到的关键图片和表格，方便您对照查看。

---

## 常见问题 (FAQ)
### Q: 点击“保存并连接”显示失败？
A: 请检查您的 API Key 是否已过期，以及网络是否能正常访问百度千帆或 Milvus 服务。

### Q: 上传文档时进度条卡住？
A: 本系统使用高精度 OCR 解析，对图片较多或页数较长的 PDF 处理时间较长，属于正常现象，请耐心等待日志更新。

---
